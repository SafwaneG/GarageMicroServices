{"ast":null,"code":"import axios from\"axios\";import{useDispatch}from\"react-redux\";import{updated}from\"../store/loading/loadingSlice\";import{showSnackbar}from\"../store/notification/messageSlice\";export default function useAxios(){const dispatch=useDispatch();async function customAxios(_ref){let{method,url,headers,data}=_ref;dispatch(updated(true));try{const result=await axios({method:method,url:url,headers:{\"Content-Type\":\"application/json\",...headers},data:data});console.log(result);const{message,open}=result.data;dispatch(showSnackbar({message,type:\"success\",open}));return result;}catch(error){var _error$response,_error$response$data,_error$response2,_error$response2$data;const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||\"An unexpected error occurred.\";const errorOpen=(_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.open;dispatch(showSnackbar({message:errorMessage,type:\"error\",open:errorOpen}));throw error;}finally{dispatch(updated(false));}}return{customAxios};}","map":{"version":3,"names":["axios","useDispatch","updated","showSnackbar","useAxios","dispatch","customAxios","_ref","method","url","headers","data","result","console","log","message","open","type","error","_error$response","_error$response$data","_error$response2","_error$response2$data","errorMessage","response","errorOpen"],"sources":["C:/Users/dell/Desktop/garage-front-end/src/hooks/axios.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { updated } from \"../store/loading/loadingSlice\";\r\nimport { showSnackbar } from \"../store/notification/messageSlice\";\r\nexport default function useAxios() {\r\n  const dispatch = useDispatch();\r\n  async function customAxios({ method, url, headers, data }) {\r\n    dispatch(updated(true));\r\n    try {\r\n      const result = await axios({\r\n        method: method,\r\n        url: url,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          ...headers,\r\n        },\r\n        data: data,\r\n      });\r\n      console.log(result);\r\n      const { message, open } = result.data;\r\n      dispatch(showSnackbar({ message, type: \"success\", open }));\r\n\r\n      return result;\r\n    } catch (error) {\r\n      const errorMessage =\r\n        error.response?.data?.message || \"An unexpected error occurred.\";\r\n      const errorOpen = error.response?.data?.open;\r\n      dispatch(\r\n        showSnackbar({ message: errorMessage, type: \"error\", open: errorOpen })\r\n      );\r\n\r\n      throw error;\r\n    } finally {\r\n      dispatch(updated(false));\r\n    }\r\n  }\r\n\r\n  return { customAxios };\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,OAAO,KAAQ,+BAA+B,CACvD,OAASC,YAAY,KAAQ,oCAAoC,CACjE,cAAe,SAAS,CAAAC,QAAQA,CAAA,CAAG,CACjC,KAAM,CAAAC,QAAQ,CAAGJ,WAAW,CAAC,CAAC,CAC9B,cAAe,CAAAK,WAAWA,CAAAC,IAAA,CAAiC,IAAhC,CAAEC,MAAM,CAAEC,GAAG,CAAEC,OAAO,CAAEC,IAAK,CAAC,CAAAJ,IAAA,CACvDF,QAAQ,CAACH,OAAO,CAAC,IAAI,CAAC,CAAC,CACvB,GAAI,CACF,KAAM,CAAAU,MAAM,CAAG,KAAM,CAAAZ,KAAK,CAAC,CACzBQ,MAAM,CAAEA,MAAM,CACdC,GAAG,CAAEA,GAAG,CACRC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,GAAGA,OACL,CAAC,CACDC,IAAI,CAAEA,IACR,CAAC,CAAC,CACFE,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC,CACnB,KAAM,CAAEG,OAAO,CAAEC,IAAK,CAAC,CAAGJ,MAAM,CAACD,IAAI,CACrCN,QAAQ,CAACF,YAAY,CAAC,CAAEY,OAAO,CAAEE,IAAI,CAAE,SAAS,CAAED,IAAK,CAAC,CAAC,CAAC,CAE1D,MAAO,CAAAJ,MAAM,CACf,CAAE,MAAOM,KAAK,CAAE,KAAAC,eAAA,CAAAC,oBAAA,CAAAC,gBAAA,CAAAC,qBAAA,CACd,KAAM,CAAAC,YAAY,CAChB,EAAAJ,eAAA,CAAAD,KAAK,CAACM,QAAQ,UAAAL,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBR,IAAI,UAAAS,oBAAA,iBAApBA,oBAAA,CAAsBL,OAAO,GAAI,+BAA+B,CAClE,KAAM,CAAAU,SAAS,EAAAJ,gBAAA,CAAGH,KAAK,CAACM,QAAQ,UAAAH,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBV,IAAI,UAAAW,qBAAA,iBAApBA,qBAAA,CAAsBN,IAAI,CAC5CX,QAAQ,CACNF,YAAY,CAAC,CAAEY,OAAO,CAAEQ,YAAY,CAAEN,IAAI,CAAE,OAAO,CAAED,IAAI,CAAES,SAAU,CAAC,CACxE,CAAC,CAED,KAAM,CAAAP,KAAK,CACb,CAAC,OAAS,CACRb,QAAQ,CAACH,OAAO,CAAC,KAAK,CAAC,CAAC,CAC1B,CACF,CAEA,MAAO,CAAEI,WAAY,CAAC,CACxB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}