{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport { updated } from '../store/loading/loadingSlice';\nexport default function useAxios() {\n  _s();\n  const dispatch = useDispatch();\n  async function customAxios({\n    method,\n    url,\n    headers,\n    data\n  }) {\n    dispatch(updated(true));\n    try {\n      const result = await axios({\n        method: method,\n        url: url,\n        headers: {\n          ...headers\n        },\n        data: data\n      });\n      console.log(result);\n      const {\n        message,\n        open\n      } = result.data;\n      dispatch(showSnackbar({\n        message,\n        type: 'success',\n        open\n      }));\n      return result;\n    } catch (error) {\n      var _error$response, _error$response$data, _error$response2, _error$response2$data;\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'An unexpected error occurred.';\n      const errorOpen = (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.open;\n      dispatch(showSnackbar({\n        message: errorMessage,\n        type: 'error',\n        open: errorOpen\n      }));\n      throw error;\n    } finally {\n      dispatch(updated(false));\n    }\n  }\n  return {\n    customAxios\n  };\n}\n_s(useAxios, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"names":["axios","useDispatch","updated","useAxios","_s","dispatch","customAxios","method","url","headers","data","result","console","log","message","open","showSnackbar","type","error","_error$response","_error$response$data","_error$response2","_error$response2$data","errorMessage","response","errorOpen"],"sources":["C:/Users/dell/Desktop/garage-front-end/src/hooks/axios.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { updated } from '../store/loading/loadingSlice';\r\n\r\nexport default function useAxios() {\r\n    const dispatch = useDispatch();\r\n    async function customAxios({method, url,headers,data}) {\r\n        dispatch(updated(true)); \r\n        try {\r\n            const result = await axios({\r\n                method: method,\r\n                url: url,\r\n                headers: {\r\n                    ...headers,\r\n                },\r\n                data: data,\r\n            });\r\n            console.log(result);\r\n            const { message, open } = result.data;\r\n            dispatch(showSnackbar({ message, type: 'success', open }));\r\n\r\n            return result; \r\n          \r\n        } catch (error) {\r\n          const errorMessage = error.response?.data?.message || 'An unexpected error occurred.';\r\n          const errorOpen = error.response?.data?.open \r\n          dispatch(showSnackbar({ message: errorMessage, type: 'error', open: errorOpen }));\r\n          \r\n          throw error;\r\n        } finally {\r\n            dispatch(updated(false)); \r\n        }\r\n    }\r\n    \r\n    return { customAxios };\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,OAAO,QAAQ,+BAA+B;AAEvD,eAAe,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAC/B,MAAMC,QAAQ,GAAGJ,WAAW,CAAC,CAAC;EAC9B,eAAeK,WAAWA,CAAC;IAACC,MAAM;IAAEC,GAAG;IAACC,OAAO;IAACC;EAAI,CAAC,EAAE;IACnDL,QAAQ,CAACH,OAAO,CAAC,IAAI,CAAC,CAAC;IACvB,IAAI;MACA,MAAMS,MAAM,GAAG,MAAMX,KAAK,CAAC;QACvBO,MAAM,EAAEA,MAAM;QACdC,GAAG,EAAEA,GAAG;QACRC,OAAO,EAAE;UACL,GAAGA;QACP,CAAC;QACDC,IAAI,EAAEA;MACV,CAAC,CAAC;MACFE,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;MACnB,MAAM;QAAEG,OAAO;QAAEC;MAAK,CAAC,GAAGJ,MAAM,CAACD,IAAI;MACrCL,QAAQ,CAACW,YAAY,CAAC;QAAEF,OAAO;QAAEG,IAAI,EAAE,SAAS;QAAEF;MAAK,CAAC,CAAC,CAAC;MAE1D,OAAOJ,MAAM;IAEjB,CAAC,CAAC,OAAOO,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA,EAAAC,gBAAA,EAAAC,qBAAA;MACd,MAAMC,YAAY,GAAG,EAAAJ,eAAA,GAAAD,KAAK,CAACM,QAAQ,cAAAL,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBT,IAAI,cAAAU,oBAAA,uBAApBA,oBAAA,CAAsBN,OAAO,KAAI,+BAA+B;MACrF,MAAMW,SAAS,IAAAJ,gBAAA,GAAGH,KAAK,CAACM,QAAQ,cAAAH,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBX,IAAI,cAAAY,qBAAA,uBAApBA,qBAAA,CAAsBP,IAAI;MAC5CV,QAAQ,CAACW,YAAY,CAAC;QAAEF,OAAO,EAAES,YAAY;QAAEN,IAAI,EAAE,OAAO;QAAEF,IAAI,EAAEU;MAAU,CAAC,CAAC,CAAC;MAEjF,MAAMP,KAAK;IACb,CAAC,SAAS;MACNb,QAAQ,CAACH,OAAO,CAAC,KAAK,CAAC,CAAC;IAC5B;EACJ;EAEA,OAAO;IAAEI;EAAY,CAAC;AAC1B;AAACF,EAAA,CA/BuBD,QAAQ;EAAA,QACXF,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}